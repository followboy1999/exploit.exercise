import struct
import socket

HOST='10.0.1.132'
PORT=2997
def caculate():
	result=0
	for i in range(0,4):
		data=s.recv(4)
		print "[*]data{0}: {1}".format(i,data)
		result+=struct.unpack("I",data)[0]
		#print "result: {0}".format(result)
	return result

while True:
	s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
	print "[*]caculating"
	s.connect((HOST,PORT))
	
	result=caculate()

	if 0<result<4294967295:
		s.send(struct.pack("I",result))
		print s.recv(1024)
		s.close()
		break	
	else :
		continue	


